{% extends 'layout/basic.html' %}

{% load thumbnail %}
{% load static %}
{% load bootstrap4 %}

{% block title %}
    Дисциплины пользователя
{% endblock %}

{% block content %}
    {% if user.is_teacher %}
        {% if user.first_name and user.last_name and user.teacher.middle_name %}
            <p>Дисциплины пользователя {{ user.last_name }} {{ user.first_name }}
                {{ user.teacher.middle_name }}</p>
        {% else %}
            <p>Дисциплины пользователя {{ user.username }}</p>
        {% endif %}
        {% if sbs %}
            <h3>Ваши дисциплины</h3>
            <ul class="list-unstyled">
                {% for sb in sbs %}
                    <li class="media my-5 p-3 border">
                        {% url 'main:profile_sub_detail' pk=sb.pk as url %}
                        <a href="{{ url }}"></a>
                        <div class="media-body">
                            <a href="{{ url }}">{{ sb.name_of_subject }}</a>
                        </div>
                    </li>
                {% endfor %}
            </ul>
            {% bootstrap_pagination page url=keyword %}
        {% else %}
            <h3>На данный момент у вас нет дисциплин, которые вы преподаёте. Дождитесь распределения
                от администратора сайта</h3>
        {% endif %}
    {% else %}
        {% if sbs %}
            <p>Дисциплины группы {{ user.group }}</p>
            <ul class="list-unstyled">
                {% for sb in sbs %}
                    <li class="media my-5 p-3 border">
                        {% url 'main:profile_sub_detail' pk=sb.subject.pk as url %}
                        <a href="{{ url }}"></a>
                        <div class="media-body">
                            <a href="{{ url }}">{{ sb.subject.name_of_subject }}</a>
                        </div>
                        <div class="media-body">
                            <p>Преподаватель: {{ sb.teacher.last_name }} {{ sb.teacher.first_name }}
                                {{ sb.teacher.middle_name }}</p>
                        </div>
                    </li>
                {% endfor %}
            </ul>
            {% bootstrap_pagination page url=keyword %}
        {% else %}
            <h3>На данный момент для вашей группы не были распределены пары. Дождитесь распределения
                от администратора сайта</h3>
        {% endif %}
    {% endif %}
{% endblock %}